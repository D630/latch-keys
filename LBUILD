#!/usr/bin/env sh

# Pre-build environment configuration and checks
src_env ()
{
        return 0
}

# Prepare stow package and do any necessary patching or fixes
src_prepare ()
{
        mv -f -- ./config.h ./config.h.orig
        mv -f -- ./config.mk ./config.mk.orig
        ln -fs -- "${myKeyRing}/config.h" ./config.h
        ln -fs -- "${myKeyRing}/config.mk" ./config.mk
}

# Configure and build the stow package
src_build ()
{
        make
}

# Run pre-install test scripts
src_check ()
{
        return 0
}

# Install the stow package
src_install ()
{
        make PREFIX="$DESTDIR" install
        mv -f -- ./config.h.orig ./config.h
        mv -f -- ./config.mk.orig ./config.mk
}

# Called before stow package is stowed
stow_prae ()
{

        return 0
}

# Called after stow package is stowed
stow_post ()
{
        return 0
}

# Called before stow package is unstowed
unstow_prae ()
{
        return 0
}

# Called after stow package is unstowed
unstow_post ()
{
        return 0
}

# vim: set ft=sh ts=8 sw=8 tw=0 et :
